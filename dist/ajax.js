!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.beta=t():e.beta=t()}("undefined"!=typeof self?self:this,function(){return r={},o.m=n=[function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var r=n(2);r.env.XMLHttpRequest=window.XMLHttpRequest,r.env.window=window,e.exports=r},function(e,t,n){var u=n(3),i=["put","head","patch","delete","post","get"],s="Content-Type",c="application/x-www-form-urlencoded",a="application/json; charset=utf-8";function f(e,t,n,r){var o=e?e.clone():function(){var e={parse:l,beforehooks:[],afterhooks:[],base:"",path:"",query:{},meta:{},clone:function(){return Object.assign({},this,{query:h({},this.query),meta:h({},this.meta)})},addQuery:function(e,t){var n=this.clone();return n.query[e]=t,n},removeQuery:function(e){var t=this.clone();return void 0!==t.query[e]&&(t.query[e]=void 0),t},setQuery:function(e){return h(this,{query:e})},clearHooks:function(){var e=this.clone({nohook:!0});return e.hooks=[],e.beforehooks=[],e.afterhooks=[],e},beforeHook:function(e){var t=this.clone();return t.beforehooks=t.beforehooks.slice(),t.beforehooks.push(e),t},afterHook:function(e){var t=this.clone();return t.afterhooks=t.afterhooks.slice(),t.afterhooks.push(e),t},setPath:function(e){var t=this.clone();return t.path=p(e),t},setHeader:function(e){var t=this.clone();return t.headers=Object.assign({},this.headers,e),t.headers[s]=void 0,t}};return i.map(function(n){e[n]=function(e,t){return f(this,n,e,t)}}),e.setMethod=function(e){var t=this.clone();return t.method=p(e),t},e.setBase=function(e){var t=this.clone();return t.base=p(e),t},e.contentTypeJson=function(){return h(this,{content_type:a})},e.contentTypeForm=function(){return h(this,{content_type:c})},e.setContentType=function(e){return h(this,{content_type:p(e)})},e.setParser=function(e){var t=this.clone();switch(p(e)){case"json":t.parse=function(e){if(void 0!==e)return JSON.parse(e)};break;default:t.parse=l}return t},e.setBody=function(e){var t=this.clone();return t.body=e,t},e.setMeta=function(e,t){var n=this.clone();return n.meta[e]=t,n},e.send=function(e,r){v(e)&&(r=e,e=void 0);var o=this;e&&(o=this.clone(),this.content_type===a?o.body=JSON.stringify(e):this.content_type===c?o.body=u.stringify(e):o.body=e),b(o.beforehooks.slice(),{request:o},function(e){if(e.error)return r(e.error,void 0,0);d(e.request,function(e,t,n){b(o.afterhooks.slice(),{request:o,code:n,body:t,err:e},function(t){var e;try{e=o.parse(t.body)}catch(e){t.err=e}try{r(t.err,e,t.code)}catch(e){}})})})},e}();return o.method=t,n&&(o.base=p(n)),r&&(o.path=p(r)),o}function h(e,t){return Object.assign(e,t)}var d=function(e,t){var n=u.stringify(e.query);n=n&&"?"+n;var r=function(e,t){return t&&e&&(e.endsWith("/")||(e+="/"),t.startsWith("/")&&(t=t.substring(1))),e+t}(e.base,e.path)+n;t=t||function(){};var o=new y.XMLHttpRequest;for(var i in o.onreadystatechange=function(e){4===o.readyState&&t(void 0,o.responseText,o.status)},o.onerror=function(){t(o.responseText),t=function(){}},o.open(e.method,r),e.headers)o.setRequestHeader(i,e.headers[i]);e.content_type&&o.setRequestHeader(s,e.content_type),o.send(e.body)};function p(e){return(e||"").trim()}function l(e){return e}var y={XMLHttpRequest:{}};function v(e){return e&&"[object Function]"==={}.toString.call(e)}function b(t,n,r){if(!t||0===t.length)return r(n);var e=t.shift();if(!v(e))return b(t,n,r);e(n,function(e){return!1===e?r(n):b(t,n,r)})}e.exports={env:y,waterfall:b},i.map(function(r){e.exports[r]=function(e,t,n){return f(n,r,e,t)}})},function(e,t){function h(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}e.exports={stringify:function(e){if(!e)return"";for(var t,n,r=Object.keys(e),o=[],i=0;i<r.length;i++){var u=r[i],s="",c=e[u];if(void 0!==c){if(null===c)s=h(u);else if(Array.isArray(c)){for(var a=[],f=0;f<c.length;f++)void 0!==c[f]&&a.push((t=u,n=c[f],a.length,null===n?h(t):[h(t),"=",h(n)].join("")));s=a.join("&")}else s=h(u)+"="+h(c);0<s.length&&o.push(s)}}return o.join("&")}}}],o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0);function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r});